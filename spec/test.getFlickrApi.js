describe("getting flickr api", function(){
    describe("flickr requests", function(){
        it("set id is a string ", function(){
            var url = "https://www.flickr.com/photos/ihmis-suski/sets/72157649813813025/";
            chai.expect(getFlickrSetID(url)).to.be.a("string");
        });
        it("set id matches the id", function(){
            var url = "https://www.flickr.com/photos/ihmis-suski/sets/72157649813813025";
            chai.expect(getFlickrSetID(url)).to.equal('72157649813813025');
        });
        it("set id matches the id in various forms", function(){
            var url = "https://www.flickr.com/photos/ihmis-suski/sets/72157649813813025/";
            chai.expect(getFlickrSetID(url)).to.equal('72157649813813025');
        });
        //getFlickrSetPhotos

        it("gets response from Flickr", function(done){
            //In this test we get photoset photos
            var setId = "photoset_id=72157649813813025";
            var apiMethod= "flickr.photosets.getPhotos";
            var apiKey= "8d156cde97fe02e2f4a22324fd761996";
            getFlickrApi(setId, apiMethod, apiKey, function(photos){
                console.log(JSON.stringify(photos));
                done();
            } );
        });

        it("Get timestamp from photos information", function(done){
            var apiMethod= "flickr.photos.getInfo";
            var apiKey= "8d156cde97fe02e2f4a22324fd761996";
            var photoId = "photo_id=16237436801";
            getFlickrApi(photoId, apiMethod, apiKey, function(photo){
                console.log(JSON.stringify(photo));
                done();
            } );
        });

    })
});


var flickrPhotosData =  {"photoset":{"id":"72157649813813025","primary":"15426234253","owner":"35952871@N05","ownername":"ihmis-suski","photo":[{"id":"15858950319","secret":"452c5c4ca4","server":"7461","farm":8,"title":"Helena at night","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16043055031","secret":"0d377f7afa","server":"8591","farm":9,"title":"About to go","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16043063111","secret":"3021d15e21","server":"7482","farm":8,"title":"Leaving San Miguel marina","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16043070681","secret":"5cf19803b3","server":"8562","farm":9,"title":"Cleared the mooring","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16019257906","secret":"9c63bed44f","server":"7485","farm":8,"title":"Out of the marina","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15422815314","secret":"f014278091","server":"7470","farm":8,"title":"Ready to go","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16045107775","secret":"d6791aa280","server":"7555","farm":8,"title":"Sunset","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16043173641","secret":"152375a9df","server":"8595","farm":9,"title":"Cap Verde sighted","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15422849754","secret":"d6f7994baf","server":"7582","farm":8,"title":"Ready for an adventure","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16019354446","secret":"113bdae9d7","server":"7495","farm":8,"title":"Mindelo","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15422858674","secret":"2be7e50e33","server":"7566","farm":8,"title":"At a local","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16045130965","secret":"4d0e70e199","server":"7564","farm":8,"title":"Local","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15857866020","secret":"ba4e228dcc","server":"7559","farm":8,"title":"Sunset at the marina","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15857692938","secret":"d0df6a59f2","server":"7470","farm":8,"title":"Dinner and streetparty","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15859104239","secret":"3416d2079d","server":"7524","farm":8,"title":"Streetparty","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15859410437","secret":"e1d0d486cf","server":"8627","farm":9,"title":"Around the island","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16019409906","secret":"f776762517","server":"7477","farm":8,"title":"Around the island","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15857929560","secret":"4db4f5d101","server":"7498","farm":8,"title":"Up the mountain","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15857940630","secret":"91ca681f3b","server":"7573","farm":8,"title":"Mindelo","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16043273701","secret":"8cbecdfb0d","server":"8597","farm":9,"title":"Easy crossing","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16044520992","secret":"95734197f5","server":"7527","farm":8,"title":"Sailing","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15422955124","secret":"a2ae1fa3cb","server":"7574","farm":8,"title":"Sailing","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15857959030","secret":"3ff865af0a","server":"7545","farm":8,"title":"Sailing","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15422981314","secret":"6262e964e6","server":"7504","farm":8,"title":"Sails","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16043442681","secret":"ca251d68b7","server":"8597","farm":9,"title":"Sunset","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15857989108","secret":"a17bebcf49","server":"7503","farm":8,"title":"Nightfall","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16045477415","secret":"23440c8208","server":"7477","farm":8,"title":"Watching","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15859258959","secret":"4a13f8dda3","server":"7473","farm":8,"title":"Sailing","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16045312735","secret":"a61f589aeb","server":"7500","farm":8,"title":"Watch number one","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16045318355","secret":"3176b758f4","server":"7532","farm":8,"title":"Grinning","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15859580909","secret":"3616b4aec7","server":"8644","farm":9,"title":"In to the ocean","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15858047178","secret":"b962da07d7","server":"8591","farm":9,"title":"Barbados!","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15425861573","secret":"ac4339f616","server":"7549","farm":8,"title":"Barbados","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15423247374","secret":"e8b6ca767e","server":"7519","farm":8,"title":"Bible belt","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15425881633","secret":"5aee0bb647","server":"8643","farm":9,"title":"Sail rock","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16045539645","secret":"3810a3a3ac","server":"7493","farm":8,"title":"Rainbow","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16043707831","secret":"5d4fa39a73","server":"8588","farm":9,"title":"Up the mast","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15423451464","secret":"cb55836aea","server":"8639","farm":9,"title":"Mast selfie","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15859802989","secret":"1f0a032862","server":"7475","farm":8,"title":"Snorkle monster","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15616882214","secret":"7df3b7cc56","server":"7553","farm":8,"title":"GOPR0820","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16023963166","secret":"79c94e6ec3","server":"8645","farm":9,"title":"Lone island","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16051913360","secret":"038b9a2496","server":"8612","farm":9,"title":"GOPR0847","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16238470192","secret":"85c0eb87dc","server":"7555","farm":8,"title":"GOPR0849","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16043898761","secret":"033dd33567","server":"7531","farm":8,"title":"Beach day","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16053177939","secret":"448c073b97","server":"8661","farm":9,"title":"GOPR0853","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16237436801","secret":"08e79c508d","server":"7512","farm":8,"title":"GOPR0854","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15619427923","secret":"440def30b7","server":"8673","farm":9,"title":"GOPR0860","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15616874274","secret":"396e023d10","server":"7553","farm":8,"title":"GOPR0868","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15616873044","secret":"4146b90c63","server":"7578","farm":8,"title":"GOPR0874","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15426275633","secret":"2dd5170070","server":"7537","farm":8,"title":"Photographer","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15616866054","secret":"d29ab65ce1","server":"7474","farm":8,"title":"G0110943","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15426234253","secret":"b85208769c","server":"8604","farm":9,"title":"Pipa","isprimary":"1","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16053434057","secret":"0ec4ba468f","server":"7475","farm":8,"title":"G0120947","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16051766708","secret":"d76f915259","server":"8591","farm":9,"title":"GOPR0963","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15862281958","secret":"043d03b42d","server":"7549","farm":8,"title":"Waves","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16051916420","secret":"2e6af8fa64","server":"7514","farm":8,"title":"G0161004","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16053439237","secret":"5cecfddc79","server":"7500","farm":8,"title":"GOPR1006","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15423629764","secret":"2e5758fba8","server":"7520","farm":8,"title":"Second beach","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16239289225","secret":"613110b57e","server":"7564","farm":8,"title":"GOPR1012","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16237428881","secret":"c70aa25cf0","server":"7548","farm":8,"title":"GOPR1016","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15862466760","secret":"47a90c0ec6","server":"7468","farm":8,"title":"Parked in a bar","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16047794501","secret":"7749d0867b","server":"8590","farm":9,"title":"Looks like a paradise","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15435176344","secret":"efd6e7c855","server":"8573","farm":9,"title":"Pelastautumispuku päälle harjoituksen vuoksi","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16055591181","secret":"b26c601d99","server":"8582","farm":9,"title":"Teletappi ja sen kaveri","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15871791327","secret":"fc2711e07b","server":"7463","farm":8,"title":"Last sunset","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15914591980","secret":"62f06b8ae5","server":"7520","farm":8,"title":"Birdie","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"15479565954","secret":"97b55e5088","server":"7549","farm":8,"title":"Left abandoned","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16076105966","secret":"977dd618d4","server":"8674","farm":9,"title":"Stripped out","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16101163272","secret":"8fa5bda5c0","server":"7468","farm":8,"title":"A library on an epic scale","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16101164082","secret":"ed1f222433","server":"8623","farm":9,"title":"Josephine lost her head","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0},{"id":"16099979311","secret":"904164bfe3","server":"7477","farm":8,"title":"I found a cannon","isprimary":"0","ispublic":1,"isfriend":0,"isfamily":0}],"page":1,"per_page":500,"perpage":500,"pages":1,"total":"71","title":"across the atlantic"},"stat":"ok"};